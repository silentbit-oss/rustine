warning: all if blocks contain the same code at the end
warning: unused `std::result::Result` that must be used
warning: use Option::map_or instead of an if let/else
