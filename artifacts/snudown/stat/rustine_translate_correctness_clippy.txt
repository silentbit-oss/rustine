warning: this boolean expression contains a logic bug
